# Generated by cdkactions. Do not modify
# Generated as part of the 'cdk' stack.
name: build-and-publish
on: push
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    container:
      image: themattrix/tox
    steps:
      - name: Lint
        run: |-
          flake8 .
          isort -c .
          black --check .
      - name: Test
        run: tox
      - name: Upload Code Coverage
        uses: codecov/codecov-action@v1
      - name: Publish pypi package
        run: |-
          python3 setup.py sdist bdist_wheel
          twine upload dist/*
